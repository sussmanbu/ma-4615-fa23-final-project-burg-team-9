{
  "hash": "f196f422310703e28aa007f9e9985801",
  "result": {
    "markdown": "---\ntitle: \"Blog Post 4\"\nsubtitle: \"Exploratory Data Analysis and Initial Statistical Modeling\"\nauthor: \"Team 9\"\ndate: \"2023-11-13\"\ndate-modified: \"2023-11-13\"\ndraft: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nload(here::here(\"dataset/traffic_violations.RData\"))\n \nwd <- traffic_data_clean %>% \n  rename(Arrest_Type = `Arrest Type`)\n \n# Race vs Arrest Type\nggplot(wd, aes(x = Race, fill = Arrest_Type)) + \n  geom_bar(position = \"dodge\") + \n  labs(title = \"Distribution of Race by Arrest Type\", \n       x = \"Race\", y = \"Count\",\n       fill = \"Arrest Type\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(labels = scales::comma)\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(wd, aes(x = Race, fill = Accident)) + \n  geom_bar(position = \"dodge\") + \n  labs(title = \"Distribution of Race by Accident\", \n       x = \"Race\", y = \"Count\",\n       fill = \"Accident\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(labels = scales::comma)\n```\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Statistical Modeling\n\nlibrary(tidyverse)\n\ntraffic_data_clean <- traffic_data_clean |>\n  mutate(Race_binary = ifelse(Race == \"Hispanic\", 1, 0))\n\nfiltered_data <- traffic_data_clean |>\n  filter(Year >= 2000 & Year <= 2023) |>\n  mutate(Numbered_Year = Year - 2000)\n\nmodel <- glm(Race_binary ~ Numbered_Year, family = binomial, data = filtered_data)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: glm.fit: algorithm did not converge\n```\n:::\n\n```{.r .cell-code}\nggplot(filtered_data, aes(x = Numbered_Year, y = Race_binary)) +\n  geom_point() +\n  geom_smooth(method = 'glm', formula = y ~ x, se = FALSE, color = \"blue\", size = 0.5) +\n  labs(title = \"Logistic Regression: Race_binary ~ Numbered_Year\",\n       x = \"Numbered_Year\",\n       y = \"Race_binary\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](blog-post-4_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n  From our last blog post, we saw that one of the most big, obvious trends was that the Driver’s License State category was predominantly from Maryland. Since this is to be expected given that the data is from a county in Maryland, this may be a boring part of the data. So, we chose to explore some other relationships that might be confounded by this major trend we identified.\n  \n  To explore our data further in this way, we first looked at relationships among different variables and groupings by looking for trends or patterns between race categories and arrest types as well as race categories and accident types. We then focused on developing a better understanding of the specific relationship between race and arrest types and race and accident types by also including the time of day to see if this too affects the outcome of the traffic violation.\n  \n  Beginning to think about statistical modeling, the response variable that we are interested in is the outcome of the traffic violation, which in our data is represented as arrest type and accident type. The predictor variables we are interested in are race and time of day. To include time of day we would need to perform some transformations to better capture the relationships between the variables. Since time is going in a loop as it goes to the end of the day and then the values go back down to 0, we need to transform this column of the data to be continuous instead of a cycle. We will fit a linear model so that we can see how the predictor variables affect the response variable. For this, we will also need another transformation to represent the outcome of the traffic violation as binary variables. For the arrest type, we can choose “A – Marked Patrol” to be represented by 1, and each other arrest type to be 0. Similarly, for the accident column, we can choose “Yes” to be 1 and “No” to be 0. After these transformations, we can use the categorical variables in the linear model.\n  \n  For our initial statistical modeling, we began by using a logistic model with the race as the response variable and the year as the predictor variable to observe the potential relationships between the differences in race categories reported for traffic violations over a number of years. For this initial modeling, we transformed the race variable to be binary by mutating “Hispanic” to be 1 and every other race category to be 0. We also transformed the Year variable to be represented as a value showing how many years from 2000 it is. We also only included the years 2000-2023 to first see how we could analyze a subset of the data on a smaller scale. For our future statistical modeling, we will also include the other race categories to see the trends and patterns between the different categories and include more years to see more widespread trends. This initial model showed a straight horizontal line after the regression, so in our further analysis we will additionally add more variables to find a model that reveals more about the data and its trends.\n",
    "supporting": [
      "blog-post-4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}